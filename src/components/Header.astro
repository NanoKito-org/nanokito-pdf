---
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import LanguagePicker from './LanguagePicker.astro';
import { ThemeToggle } from './ThemeToggle';
import { Search } from 'lucide-react';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---
<header class="border-b border-[var(--color-border)] bg-[var(--color-background)]/80 backdrop-blur-md sticky top-0 z-40">
    <div class="container mx-auto px-4 h-16 flex items-center justify-between max-w-6xl">
        <a href={`/${lang}/`} class="text-xl font-bold tracking-tight flex items-center gap-2 group">
            <span class="bg-gradient-to-tr from-[var(--color-primary)] to-cyan-500 bg-clip-text text-transparent group-hover:opacity-80 transition-opacity">NanoKito</span>
        </a>

        <div class="flex items-center gap-3 md:gap-4">
             {/* Search Trigger (Functionality can be added later, e.g. open Nanostores modal) */}
             <button class="p-2 text-[var(--color-muted-foreground)] hover:bg-[var(--color-accent)] rounded-lg transition-colors" aria-label="Search">
                <Search className="w-5 h-5" />
             </button>
             
             <div class="h-6 w-px bg-[var(--color-border)]"></div>

             <ThemeToggle client:load />
             
             <LanguagePicker />
        </div>
    </div>
</header>
