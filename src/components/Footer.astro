---
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const year = new Date().getFullYear();
---

<footer
    class="border-t border-[var(--color-border)] bg-[var(--color-card)]/30 backdrop-blur-sm py-16 mt-auto"
>
    <div class="container mx-auto px-4 max-w-6xl">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-10">
            {/* Col 1: Brand */}
            <div class="col-span-1 md:col-span-2">
                <a
                    href={`https://nanokito.com/${lang}/`}
                    class="text-xl font-bold tracking-tight inline-flex items-center gap-2.5 mb-4 group"
                >
                    <img
                        src="/logo.svg"
                        alt="NanoKito Logo"
                        class="w-8 h-8 transition-transform group-hover:scale-110 group-hover:rotate-6 duration-300"
                    />
                    <span
                        class="text-[var(--color-foreground)] font-extrabold tracking-tight"
                        >NanoKito</span
                    >
                </a>
                <p
                    class="text-[var(--color-muted-foreground)] mb-6 max-w-sm leading-relaxed"
                >
                    {t("hero.subtitle")}
                </p>
                <div class="text-sm text-[var(--color-muted-foreground)]">
                    &copy; {year} NanoKito. {t("footer.tagline")}
                </div>
            </div>

            {/* Col 2: Popular Tools */}
            <div>
                <h3 class="font-semibold text-[var(--color-foreground)] mb-4">
                    {t("footer.popular")}
                </h3>
                <ul class="space-y-3">
                    <li>
                        <a
                            href={`https://nanokito.com/${lang}/tools/image-compressor`}
                            class="text-[var(--color-muted-foreground)] hover:text-[var(--color-primary)] transition-colors text-sm"
                            >Image Compressor</a
                        >
                    </li>
                    <li>
                        <a
                            href={`https://nanokito.com/${lang}/tools/pdf-merge`}
                            class="text-[var(--color-muted-foreground)] hover:text-[var(--color-primary)] transition-colors text-sm"
                            >PDF Merger</a
                        >
                    </li>
                    <li>
                        <a
                            href={`https://nanokito.com/${lang}/tools/json-formatter`}
                            class="text-[var(--color-muted-foreground)] hover:text-[var(--color-primary)] transition-colors text-sm"
                            >JSON Formatter</a
                        >
                    </li>
                    <li>
                        <a
                            href={`https://nanokito.com/${lang}/tools/password-generator`}
                            class="text-[var(--color-muted-foreground)] hover:text-[var(--color-primary)] transition-colors text-sm"
                            >Password Generator</a
                        >
                    </li>
                </ul>
            </div>

            {/* Col 3: Legal & Links */}
            <div>
                <h3 class="font-semibold text-[var(--color-foreground)] mb-4">
                    {t("footer.legal")}
                </h3>
                <ul class="space-y-3">
                    <li>
                        <a
                            href={`https://nanokito.com/${lang}/privacy`}
                            class="text-[var(--color-muted-foreground)] hover:text-[var(--color-primary)] transition-colors text-sm"
                            >{t("footer.privacy")}</a
                        >
                    </li>
                    <li>
                        <a
                            href={`https://nanokito.com/${lang}/terms`}
                            class="text-[var(--color-muted-foreground)] hover:text-[var(--color-primary)] transition-colors text-sm"
                            >{t("footer.terms")}</a
                        >
                    </li>
                    <li>
                        <a
                            href={`https://nanokito.com/${lang}/about`}
                            class="text-[var(--color-muted-foreground)] hover:text-[var(--color-primary)] transition-colors text-sm"
                            >{t("footer.about")}</a
                        >
                    </li>
                    <li class="pt-2">
                        <a
                            href="#"
                            class="inline-flex items-center gap-2 px-4 py-2 bg-yellow-400/10 text-yellow-600 dark:text-yellow-400 rounded-full hover:bg-yellow-400/20 transition-colors text-xs font-medium"
                        >
                            â˜• {t("footer.coffee")}
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
