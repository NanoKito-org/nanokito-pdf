---
import ToolLayout from "../../../layouts/ToolLayout.astro";
import JsonFormatter from "../../../components/tools/JsonFormatter.astro";

export function getStaticPaths() {
  return [{ params: { lang: "en" } }, { params: { lang: "fr" } }];
}

const { lang } = Astro.params;

const content = {
  en: {
    title: "JSON Formatter & Validator",
    description:
      "Beautify, minify, and validate JSON data instantly in your browser.",
    category: "Developer",
    contentTitle: "How to use this JSON Tool",
    contentText: `
            <p>JSON (JavaScript Object Notation) is the language of the web, but raw JSON often looks like a messy wall of text. Our <strong>JSON Formatter</strong> creates readable, organized code structures instantly.</p>
            <h3>Features:</h3>
            <ul>
                <li><strong>Prettify:</strong> Formats compact JSON into a readable tree structure with proper indentation (2 spaces).</li>
                <li><strong>Minify:</strong> Removes all unnecessary whitespace to reduce file size for production usage.</li>
                <li><strong>Validate:</strong> Checks for syntax errors (like missing commas or unclosed brackets) and tells you exactly where the problem is.</li>
            </ul>
            <h3>Why Validate Offline?</h3>
            <p>Many online validators send your data to their backend servers for processing. At NanoKito, <strong>we prioritize your privacy</strong>. Your sensitive data (API keys, user configs, etc.) is processed entirely within your browser using JavaScript's native <code>JSON</code> engine. Nothing is ever uploaded.</p>
        `,
  },
  fr: {
    title: "Formateur et Validateur JSON",
    description:
      "Embellissez, minifiez et validez vos données JSON instantanément.",
    category: "Développeur",
    contentTitle: "Comment utiliser cet outil JSON",
    contentText: `
            <p>Le JSON (JavaScript Object Notation) est le langage du web, mais le JSON brut ressemble souvent à un mur de texte illisible. Notre <strong>Formateur JSON</strong> crée instantanément des structures de code lisibles et organisées.</p>
            <h3>Fonctionnalités :</h3>
            <ul>
                <li><strong>Embellir (Prettify) :</strong> Formate le JSON compact en une structure arborescente lisible avec une indentation correcte.</li>
                <li><strong>Minifier :</strong> Supprime tous les espaces inutiles pour réduire la taille du fichier pour la production.</li>
                <li><strong>Valider :</strong> Vérifie les erreurs de syntaxe (comme les virgules manquantes) et vous indique exactement où se trouve le problème.</li>
            </ul>
            <h3>Pourquoi valider hors ligne ?</h3>
            <p>De nombreux validateurs en ligne envoient vos données à leurs serveurs. Chez NanoKito, <strong>votre vie privée est notre priorité</strong>. Vos données sensibles sont traitées entièrement dans votre navigateur. Rien n'est jamais téléchargé.</p>
        `,
  },
};

const t = content[lang as "en" | "fr"];
---

<ToolLayout
  title={`${t.title} | NanoKito`}
  description={t.description}
  toolName={t.title}
  category={t.category}
  categorySlug="developer"
  lang={lang as "en" | "fr"}
>
  <!-- Tool Workspace -->
  <JsonFormatter
    labels={lang === "fr"
      ? {
          prettify: "Embellir",
          minify: "Minifier",
          clear: "Effacer",
          copy: "Copier",
          valid: "JSON Valide",
          invalid: "JSON Invalide",
          validating: "Validation...",
          input: "ENTRÉE",
          output: "SORTIE",
          syntaxError: "Erreur de Syntaxe",
          placeholderInput: "// Collez votre JSON ici...",
          placeholderOutput: "// Résultat formaté...",
          ready: "Prêt",
        }
      : undefined}
  />

  <!-- SEO Content -->
  <div slot="content">
    <h2>{t.contentTitle}</h2>
    <div set:html={t.contentText} />
  </div>
</ToolLayout>
