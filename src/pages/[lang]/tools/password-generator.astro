---
import ToolLayout from "../../../layouts/ToolLayout.astro";
import PasswordGenerator from "../../../components/tools/PasswordGenerator.astro";

export function getStaticPaths() {
  return [{ params: { lang: "en" } }, { params: { lang: "fr" } }];
}

const { lang } = Astro.params;

// Simple internal translation for now, could be moved to ui.ts
const content = {
  en: {
    title: "Secure Password Generator",
    description: "Generate strong, random passwords locally in your browser.",
    category: "Developer",
    whyTitle: "Why use a client-side password generator?",
    whyText: `
            <p>Security starts with strong passwords. Unlike online tools that send your generated passwords to a server, <strong>NanoKito's Password Generator</strong> runs 100% in your browser.</p>
            <p>We use the web's native <code>crypto.getRandomValues()</code> API to ensure true randomness that is cryptographically secure.</p>
            <ul>
                <li><strong>No Server Uploads:</strong> Your passwords never leave your device.</li>
                <li><strong>Instant Generation:</strong> No latency, no API calls.</li>
                <li><strong>Customizable:</strong> Adjust length and character sets to meet any requirement.</li>
            </ul>
        `,
  },
  fr: {
    title: "Générateur de Mot de Passe Sécurisé",
    description:
      "Générez des mots de passe forts et aléatoires localement dans votre navigateur.",
    category: "Développeur",
    whyTitle: "Pourquoi utiliser un générateur côté client ?",
    whyText: `
            <p>La sécurité commence par des mots de passe forts. Contrairement aux outils en ligne qui envoient vos mots de passe à un serveur, le <strong>Générateur NanoKito</strong> fonctionne à 100% dans votre navigateur.</p>
            <p>Nous utilisons l'API native <code>crypto.getRandomValues()</code> pour garantir un aléa cryptographiquement sécurisé.</p>
            <ul>
                <li><strong>Aucun envoi serveur :</strong> Vos mots de passe ne quittent jamais votre appareil.</li>
                <li><strong>Génération Instantanée :</strong> Pas de latence, pas d'appels API.</li>
                <li><strong>Personnalisable :</strong> Ajustez la longueur et les jeux de caractères selon vos besoins.</li>
            </ul>
        `,
  },
};

const t = content[lang as "en" | "fr"];
---

<ToolLayout
  title={`${t.title} | NanoKito`}
  description={t.description}
  toolName={t.title}
  category={t.category}
  categorySlug="developer"
  lang={lang as "en" | "fr"}
>
  <!-- Tool Workspace -->
  <PasswordGenerator
    labels={lang === "fr"
      ? {
          length: "Longueur",
          uppercase: "Majuscules (A-Z)",
          lowercase: "Minuscules (a-z)",
          numbers: "Chiffres (0-9)",
          symbols: "Symboles (!@#$)",
          copy: "Copier",
          generate: "Générer",
          copied: "Copié !",
          strength: "Force",
        }
      : undefined}
  />

  <!-- SEO Content -->
  <div slot="content">
    <h2>{t.whyTitle}</h2>
    <div set:html={t.whyText} />

    <h3>Best Practices</h3>
    <p>
      {
        lang === "en"
          ? "Always use a unique password for every account. Consider using a Password Manager to store these complex passwords securely."
          : "Utilisez toujours un mot de passe unique pour chaque compte. Envisagez d'utiliser un gestionnaire de mots de passe pour stocker ces mots de passe complexes en toute sécurité."
      }
    </p>
  </div>
</ToolLayout>
