---
import Layout from '../../layouts/Layout.astro';
import { languages } from '../../i18n/ui';
import { useTranslations } from '../../i18n/utils';
import { Search, Code, Image, FileText, File, ArrowRight } from 'lucide-react';
import ToolCard from '../../components/ToolCard.astro';

export function getStaticPaths() {
  return [
    {params: {lang: 'en'}},
    {params: {lang: 'fr'}},
  ];
}

const { lang } = Astro.params;
const t = useTranslations(lang as keyof typeof languages);

const categories = [
    { id: 'dev', name: t('categories.dev'), icon: Code, color: 'text-blue-500 bg-blue-50 dark:bg-blue-900/20' },
    { id: 'image', name: t('categories.image'), icon: Image, color: 'text-purple-500 bg-purple-50 dark:bg-purple-900/20' },
    { id: 'text', name: t('categories.text'), icon: FileText, color: 'text-green-500 bg-green-50 dark:bg-green-900/20' },
    { id: 'pdf', name: t('categories.pdf'), icon: File, color: 'text-red-500 bg-red-50 dark:bg-red-900/20' },
];

const featuredTools = [
    { title: 'Base64 Converter', description: 'Encode and decode data to Base64 format instantly.', category: t('categories.dev'), href: `/${lang}/tools/base64`, icon: Code },
    { title: 'Image Compressor', description: 'Reduce image size without losing quality locally.', category: t('categories.image'), href: `/${lang}/tools/compressor`, icon: Image },
    { title: 'Word Counter', description: 'Count words, characters, and sentences in real-time.', category: t('categories.text'), href: `/${lang}/tools/word-count`, icon: FileText },
    { title: 'PDF Merger', description: 'Combine multiple PDF files into one document.', category: t('categories.pdf'), href: `/${lang}/tools/pdf-merge`, icon: File },
];
---

<Layout title={t('nav.home')}>
    {/* Hero Section */}
    <section class="relative py-20 lg:py-32 overflow-hidden">
        <div class="absolute inset-0 -z-10 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-100/50 via-gray-50/0 to-gray-50/0 dark:from-blue-900/20 dark:via-gray-950/0 dark:to-gray-950/0"></div>
        
        <div class="container mx-auto px-4 max-w-4xl text-center">
            <h1 class="text-4xl md:text-6xl font-bold tracking-tight text-gray-900 dark:text-white mb-6 bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-300 bg-clip-text text-transparent pb-2">
                {t('hero.title')}
            </h1>
            <p class="text-xl text-gray-600 dark:text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed">
                {t('hero.subtitle')}
            </p>

            {/* Search Bar */}
            <div class="relative max-w-2xl mx-auto group z-20">
                <div class="absolute -inset-1 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl blur opacity-25 group-hover:opacity-40 transition duration-200"></div>
                <div class="relative bg-white dark:bg-gray-900 rounded-xl shadow-xl flex items-center p-2 border border-gray-100 dark:border-gray-800">
                    <Search className="w-6 h-6 text-gray-400 ml-4 mr-3" />
                    <input 
                        type="text" 
                        placeholder={t('hero.searchPlaceholder')} 
                        class="w-full bg-transparent border-none outline-none text-lg text-gray-900 dark:text-white placeholder-gray-400 h-12 focus:ring-0"
                    />
                    <div class="hidden md:flex items-center gap-2 pr-4 text-xs text-gray-400">
                        <kbd class="px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700 font-sans">âŒ˜ K</kbd>
                    </div>
                </div>
            </div>
            
            {/* Categories */}
            <div class="mt-16 flex flex-wrap justify-center gap-4">
                {categories.map(cat => (
                    <a href={`/${lang}/category/${cat.id}`} class="flex items-center gap-3 px-6 py-3 rounded-full bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all cursor-pointer group">
                        <div class={`p-2 rounded-full ${cat.color}`}>
                            <cat.icon className="w-4 h-4" />
                        </div>
                        <span class="font-medium text-gray-700 dark:text-gray-300 group-hover:text-gray-900 dark:group-hover:text-white transition-colors">{cat.name}</span>
                    </a>
                ))}
            </div>
        </div>
    </section>

    {/* Featured Tools */}
    <section class="py-20 bg-white/50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-800">
        <div class="container mx-auto px-4 max-w-6xl">
            <div class="flex items-center justify-between mb-12">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2">
                    <span class="w-1 h-8 bg-blue-500 rounded-full inline-block"></span>
                    Featured Tools
                </h2>
                <a href={`/${lang}/tools`} class="text-blue-600 dark:text-blue-400 font-medium hover:underline flex items-center gap-1 group">
                    View all <ArrowRight className="w-4 h-4 group-hover:translate-x-1 transition-transform" />
                </a>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                {featuredTools.map(tool => (
                    <ToolCard 
                        title={tool.title} 
                        description={tool.description} 
                        category={tool.category} 
                        href={tool.href}
                    >
                        <tool.icon slot="icon" className="w-6 h-6" />
                    </ToolCard>
                ))}
            </div>
        </div>
    </section>
</Layout>
